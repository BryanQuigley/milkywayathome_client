/*
 *  Copyright (c) 2010-2011 Matthew Arsenault
 *  Copyright (c) 2010-2011 Rensselaer Polytechnic Institute
 *
 *  This file is part of Milkway@Home.
 *
 *  Milkway@Home is free software: you may copy, redistribute and/or modify it
 *  under the terms of the GNU General Public License as published by the
 *  Free Software Foundation, either version 3 of the License, or (at your
 *  option) any later version.
 *
 *  This file is distributed in the hope that it will be useful, but
 *  WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 *  General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include "il_kernels.h"

const char* ilKernelSrc4 =
"il_cs_2_0\n"
"dcl_num_thread_per_group 64\n"
"; 4 stream kernel\n"
"dcl_cb cb0[10]  ; Constant buffer that holds ABI data\n"
"dcl_cb cb1[15]  ; Kernel arguments\n"
"dcl_cb cb2[72]  ; I'm guessing the math constants AMD uses\n"
"dcl_cb cb3[8]   ; ap constants\n"
"dcl_cb cb4[16]  ; stream constants\n"
"dcl_cb cb5[128] ; sg_dx\n"
"dcl_raw_uav_id(%d)\n"
"dcl_literal l0, 0x0, 0x0, 0x0, 0x0\n"
"dcl_literal l9, 0x0, 0x3fe00000, 0x0, 0x0\n"
"dcl_literal l5, 0x0, 0x3fe80000, 0x0, 0x0\n"
"dcl_literal l7, 0x0, 0x3ff00000, 0x0, 0x0\n"
"dcl_literal l6, 0x0, 0xbfb00000, 0x0, 0x0\n"
"dcl_literal l16, 0x0, 0xbfe00000, 0x0, 0x0\n"
"dcl_literal l4, 0x0, 0xc0080000, 0x0, 0x0\n"
"dcl_literal l18, 0x1, 0x0, 0x0, 0x0\n"
"dcl_literal l19, 0x2, 0x0, 0x0, 0x0\n"
"dcl_literal l20, 0x3, 0x0, 0x0, 0x0\n"
"dcl_literal l3, 0x8, 0x0, 0x0, 0x0\n"
"dcl_literal l2, 0x10, 0x0, 0x0, 0x0\n"
"dcl_literal l15, 0x389cefdd, 0x3fabf3e7, 0x0, 0x0\n"
"dcl_literal l13, 0x47900215, 0x3f33185f, 0x0, 0x0\n"
"dcl_literal l11, 0x4d1d3b2f, 0x3ef52b5c, 0x0, 0x0\n"
"dcl_literal l8, 0x652b82fe, 0x3ff71547, 0x0, 0x0\n"
"dcl_literal l17, 0x667f3bcd, 0x3ff6a09e, 0x0, 0x0\n"
"dcl_literal l10, 0xb649a8f5, 0x3f84aa4e, 0x0, 0x0\n"
"dcl_literal l14, 0xd100e689, 0x3e8657cd, 0x0, 0x0\n"
"dcl_literal l12, 0xfefa39ec, 0x3fe62e42, 0x0, 0x0\n"
"dcl_literal l1, 0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff\n"
"dcl_arena_uav_id(8)\n"
"mov r17.x,cb3[1].x\n"
"mov r18.x,cb3[1].y\n"
"iadd r21.x,vAbsTid.x,cb0[6].x\n"
"mov r22.x,r21.x\n"
"inegate r23.x,cb1[9].x\n"
"iadd r24.x,r22.x,r23.x\n"
"mov r27.x,r24.x\n"
"umod r28.x,r27.x,cb1[11].x\n"
"mov r31.x,r28.x\n"
"udiv r32.x,r27.x,cb1[11].x\n"
"mov r35.x,r32.x\n"
"mov r36.x,l2.x\n"
"mov r38.x,l3.x\n"
"ult r43.x,r35.x,cb1[10].x\n"
"ult r40.x,r31.x,cb1[11].x\n"
"iand r46.x,r43.x,r40.x\n"
"mov r49.x,r46.x\n"
"if_logicalnz r49.x\n"
"mov r50.xy,l0.xy\n"
";Zero streams\n"
"mov r52.xy,l0.xy\n"
"mov r54.xy,r52.xy\n"
"mov r55.xy,l0.xy\n"
"mov r57.xy,r55.xy\n"
"mov r58.xy,r54.xy\n"
"mov r59.xy,l0.xy\n"
"mov r61.xy,r59.xy\n"
"mov r62.xy,r58.xy\n"
"mov r63.xy,r57.xy\n"
"mov r64.xy,l0.xy\n"
"mov r66.xy,r64.xy\n"
"umul r67.x,r36.x,r17.x\n"
"umul r72.x,r67.x,r35.x\n"
"mov r77.x,r72.x\n"
"iadd r78.x,r77.x,cb1[3].x\n"
"mov r81.x,r78.x\n"
"umul r82.x,r36.x,r17.x\n"
"iadd r87.x,r81.x,r82.x\n"
"mov r92.x,r87.x\n"
"umul r93.x,cb1[14].x,cb1[11].x\n"
"iadd r94.x,r93.x,r31.x\n"
"mov r97.x,r94.x\n"
"umul r98.x,r36.x,r97.x\n"
"iadd r103.x,r98.x,cb1[4].x\n"
"mov r106.x,r103.x\n"
"umul r107.x,r38.x,r97.x\n"
"iadd r112.x,r107.x,cb1[5].x\n"
"mov r115.x,r112.x\n"
";Read Trig\n"
"uav_raw_load_id(%d) r116.xyzw,r106.x\n"
"mov r117.xyzw,r116.xyzw\n"
"mov r120,r117\n"
"uav_raw_load_id(%d) r121.xy__,r115.x\n"
"mov r122.xy__,r121.xy00\n"
"mov r125.xy,r122.xy\n"
"whileloop\n"
"uav_raw_load_id(%d) r126.xyzw,r81.x\n"
"mov r127.xyzw,r126.xyzw\n"
"mov r130,r127\n"
";coordinate conversion\n"
"dmad r137.xy,r130.xy,r120.xy,cb3[2].xy\n"
"mov r140.xy,r137.xy\n"
"dmul r147.xy,r130.xy,r120.zw\n"
"mov r150.xy,r147.xy\n"
"dmul r154.xy,r130.xy,r125.xy\n"
"mov r158.xy,r154.xy\n"
";x^2 + y^2 + z^2 / q^2\n"
"dmul r159.xy,r140.xy,r140.xy\n"
"mov r164.xy,r159.xy\n"
"dmad r165.xy,r150.xy,r150.xy,r164.xy\n"
"mov r172.xy,r165.xy\n"
"dmul r173.xy,r158.xy,r158.xy\n"
"mov r178.xy,r173.xy\n"
"dmad r179.xy,cb3[3].xy,r178.xy,r172.xy\n"
"mov r184.xy,r179.xy\n"
";sqrt()\n"
"mov r185.xy,r184.xy\n"
"mov r188,r185.xy\n"
"call 1\n"
"mov r186.xy,r187\n"
"mov r185.xy,r188\n"
"dadd r239.xy,r186.xy,cb3[2].zw\n"
"mov r242.xy,r239.xy\n"
";qw_r3_N / (rg *rs^3)\n"
"dmul r243.xy,r186.xy,r242.xy\n"
"dmul r248.xy,r243.xy,r242.xy\n"
"dmul r253.xy,r248.xy,r242.xy\n"
"mov r259.xy,r253.xy\n"
"mov r263.xy,r130.zw\n"
"mov r266,r263.xy\n"
"mov r267,r259.xy\n"
"call 2\n"
"mov r264.xy,r265\n"
"mov r263.xy,r266\n"
"mov r259.xy,r267\n"
"dadd r321.xy,r50.xy,r264.xy\n"
"mov r50.xy,r321.xy\n"
";stream loops\n"
";Begin stream\n"
";x - c\n"
"dadd r331.xy,r140.xy,cb4[0].zw_neg(y)\n"
"mov r334.xy,r331.xy\n"
"dadd r336.xy,r150.xy,cb4[1].zw_neg(y)\n"
"mov r339.xy,r336.xy\n"
"dadd r341.xy,r158.xy,cb4[2].zw_neg(y)\n"
"mov r344.xy,r341.xy\n"
";a . x\n"
"dmul r346.xy,cb4[0].xy,r334.xy\n"
"mov r349.xy,r346.xy\n"
"dmad r351.xy,cb4[1].xy,r339.xy,r349.xy\n"
"mov r349.xy,r351.xy\n"
"dmad r357.xy,cb4[2].xy,r344.xy,r349.xy\n"
"mov r349.xy,r357.xy\n"
";xs += dotted * (-a)\n"
"mov r363.xy,cb4[0].xy_neg(y)\n"
"dmad r364.xy,r349.xy,r363.xy,r334.xy\n"
"mov r334.xy,r364.xy\n"
"mov r370.xy,cb4[1].xy_neg(y)\n"
"dmad r371.xy,r349.xy,r370.xy,r339.xy\n"
"mov r339.xy,r371.xy\n"
"mov r377.xy,cb4[2].xy_neg(y)\n"
"dmad r378.xy,r349.xy,r377.xy,r344.xy\n"
"mov r344.xy,r378.xy\n"
";sqrv\n"
"dmul r383.xy,r334.xy,r334.xy\n"
"mov r388.xy,r383.xy\n"
"dmad r389.xy,r339.xy,r339.xy,r388.xy\n"
"mov r388.xy,r389.xy\n"
"dmad r396.xy,r344.xy,r344.xy,r388.xy\n"
"mov r388.xy,r396.xy\n"
";sqrv *= -sigma_sq2_inv\n"
"mov r403.xy,cb4[3].xy_neg(y)\n"
"dmul r404.xy,r388.xy,r403.xy\n"
"mov r388.xy,r404.xy\n"
";increment stream integral\n"
"mov r407.xy,r388.xy\n"
"mov r410,r407.xy\n"
"call 3\n"
"mov r408.xy,r409\n"
"mov r407.xy,r410\n"
"dmad r553.xy,r130.zw,r408.xy,r62.xy\n"
"mov r62.xy,r553.xy\n"
";Begin stream\n"
";x - c\n"
"dadd r564.xy,r140.xy,cb4[4].zw_neg(y)\n"
"mov r567.xy,r564.xy\n"
"dadd r569.xy,r150.xy,cb4[5].zw_neg(y)\n"
"mov r572.xy,r569.xy\n"
"dadd r574.xy,r158.xy,cb4[6].zw_neg(y)\n"
"mov r577.xy,r574.xy\n"
";a . x\n"
"dmul r579.xy,cb4[4].xy,r567.xy\n"
"mov r582.xy,r579.xy\n"
"dmad r584.xy,cb4[5].xy,r572.xy,r582.xy\n"
"mov r582.xy,r584.xy\n"
"dmad r590.xy,cb4[6].xy,r577.xy,r582.xy\n"
"mov r582.xy,r590.xy\n"
";xs += dotted * (-a)\n"
"mov r596.xy,cb4[4].xy_neg(y)\n"
"dmad r597.xy,r582.xy,r596.xy,r567.xy\n"
"mov r567.xy,r597.xy\n"
"mov r603.xy,cb4[5].xy_neg(y)\n"
"dmad r604.xy,r582.xy,r603.xy,r572.xy\n"
"mov r572.xy,r604.xy\n"
"mov r610.xy,cb4[6].xy_neg(y)\n"
"dmad r611.xy,r582.xy,r610.xy,r577.xy\n"
"mov r577.xy,r611.xy\n"
";sqrv\n"
"dmul r616.xy,r567.xy,r567.xy\n"
"mov r621.xy,r616.xy\n"
"dmad r622.xy,r572.xy,r572.xy,r621.xy\n"
"mov r621.xy,r622.xy\n"
"dmad r629.xy,r577.xy,r577.xy,r621.xy\n"
"mov r621.xy,r629.xy\n"
";sqrv *= -sigma_sq2_inv\n"
"mov r636.xy,cb4[7].xy_neg(y)\n"
"dmul r637.xy,r621.xy,r636.xy\n"
"mov r621.xy,r637.xy\n"
";increment stream integral\n"
"mov r640.xy,r621.xy\n"
"mov r410,r640.xy\n"
"call 3\n"
"mov r641.xy,r409\n"
"mov r640.xy,r410\n"
"dmad r784.xy,r130.zw,r641.xy,r63.xy\n"
"mov r63.xy,r784.xy\n"
";Begin stream\n"
";x - c\n"
"dadd r795.xy,r140.xy,cb4[8].zw_neg(y)\n"
"mov r798.xy,r795.xy\n"
"dadd r800.xy,r150.xy,cb4[9].zw_neg(y)\n"
"mov r803.xy,r800.xy\n"
"dadd r805.xy,r158.xy,cb4[10].zw_neg(y)\n"
"mov r808.xy,r805.xy\n"
";a . x\n"
"dmul r810.xy,cb4[8].xy,r798.xy\n"
"mov r813.xy,r810.xy\n"
"dmad r815.xy,cb4[9].xy,r803.xy,r813.xy\n"
"mov r813.xy,r815.xy\n"
"dmad r821.xy,cb4[10].xy,r808.xy,r813.xy\n"
"mov r813.xy,r821.xy\n"
";xs += dotted * (-a)\n"
"mov r827.xy,cb4[8].xy_neg(y)\n"
"dmad r828.xy,r813.xy,r827.xy,r798.xy\n"
"mov r798.xy,r828.xy\n"
"mov r834.xy,cb4[9].xy_neg(y)\n"
"dmad r835.xy,r813.xy,r834.xy,r803.xy\n"
"mov r803.xy,r835.xy\n"
"mov r841.xy,cb4[10].xy_neg(y)\n"
"dmad r842.xy,r813.xy,r841.xy,r808.xy\n"
"mov r808.xy,r842.xy\n"
";sqrv\n"
"dmul r847.xy,r798.xy,r798.xy\n"
"mov r852.xy,r847.xy\n"
"dmad r853.xy,r803.xy,r803.xy,r852.xy\n"
"mov r852.xy,r853.xy\n"
"dmad r860.xy,r808.xy,r808.xy,r852.xy\n"
"mov r852.xy,r860.xy\n"
";sqrv *= -sigma_sq2_inv\n"
"mov r867.xy,cb4[11].xy_neg(y)\n"
"dmul r868.xy,r852.xy,r867.xy\n"
"mov r852.xy,r868.xy\n"
";increment stream integral\n"
"mov r871.xy,r852.xy\n"
"mov r410,r871.xy\n"
"call 3\n"
"mov r872.xy,r409\n"
"mov r871.xy,r410\n"
"dmad r1015.xy,r130.zw,r872.xy,r61.xy\n"
"mov r61.xy,r1015.xy\n"
";Begin stream\n"
";x - c\n"
"dadd r1026.xy,r140.xy,cb4[12].zw_neg(y)\n"
"mov r1029.xy,r1026.xy\n"
"dadd r1031.xy,r150.xy,cb4[13].zw_neg(y)\n"
"mov r1034.xy,r1031.xy\n"
"dadd r1036.xy,r158.xy,cb4[14].zw_neg(y)\n"
"mov r1039.xy,r1036.xy\n"
";a . x\n"
"dmul r1041.xy,cb4[12].xy,r1029.xy\n"
"mov r1044.xy,r1041.xy\n"
"dmad r1046.xy,cb4[13].xy,r1034.xy,r1044.xy\n"
"mov r1044.xy,r1046.xy\n"
"dmad r1052.xy,cb4[14].xy,r1039.xy,r1044.xy\n"
"mov r1044.xy,r1052.xy\n"
";xs += dotted * (-a)\n"
"mov r1058.xy,cb4[12].xy_neg(y)\n"
"dmad r1059.xy,r1044.xy,r1058.xy,r1029.xy\n"
"mov r1029.xy,r1059.xy\n"
"mov r1065.xy,cb4[13].xy_neg(y)\n"
"dmad r1066.xy,r1044.xy,r1065.xy,r1034.xy\n"
"mov r1034.xy,r1066.xy\n"
"mov r1072.xy,cb4[14].xy_neg(y)\n"
"dmad r1073.xy,r1044.xy,r1072.xy,r1039.xy\n"
"mov r1039.xy,r1073.xy\n"
";sqrv\n"
"dmul r1078.xy,r1029.xy,r1029.xy\n"
"mov r1083.xy,r1078.xy\n"
"dmad r1084.xy,r1034.xy,r1034.xy,r1083.xy\n"
"mov r1083.xy,r1084.xy\n"
"dmad r1091.xy,r1039.xy,r1039.xy,r1083.xy\n"
"mov r1083.xy,r1091.xy\n"
";sqrv *= -sigma_sq2_inv\n"
"mov r1098.xy,cb4[15].xy_neg(y)\n"
"dmul r1099.xy,r1083.xy,r1098.xy\n"
"mov r1083.xy,r1099.xy\n"
";increment stream integral\n"
"mov r1102.xy,r1083.xy\n"
"mov r410,r1102.xy\n"
"call 3\n"
"mov r1103.xy,r409\n"
"mov r1102.xy,r410\n"
"dmad r1246.xy,r130.zw,r1103.xy,r66.xy\n"
"mov r66.xy,r1246.xy\n"
";End streams\n"
"iadd r1252.x,r81.x,r36.x\n"
"mov r81.x,r1252.x\n"
"uge r1257.x,r81.x,r92.x\n"
"break_logicalnz r1257.x\n"
"endloop\n"
"umul r1262.x,r31.x,cb1[10].x\n"
"iadd r1265.x,r1262.x,r35.x\n"
"mov r1269.x,r1265.x\n"
"umul r1270.x,r36.x,r35.x\n"
"iadd r1275.x,r1270.x,cb1[2].x\n"
"uav_raw_load_id(%d) r1278.xyzw,r1275.x\n"
"mov r1279.xyzw,r1278.xyzw\n"
"dmul r1285.xy,cb1[13].xy,r1279.xy\n"
"mov r1288.xy,r1285.xy\n"
";read old values\n"
"mov r1289.x,l3.x\n"
"umul r1291.x,r1289.x,r1269.x\n"
"iadd r1296.x,r1291.x,cb1[0].x\n"
"uav_raw_load_id(%d) r1299.xy__,r1296.x\n"
"mov r1300.xy__,r1299.xy00\n"
"mov r1303.xy,r1300.xy\n"
"mov r1304.xy,l0.xy\n"
"mov r1306.x,l0.x\n"
"mov r1318.x,l3.x\n"
"umul r1308.x,r18.x,r1269.x\n"
"iadd r1313.x,r1308.x,r1306.x\n"
"umul r1320.x,r1318.x,r1313.x\n"
"iadd r1326.x,r1320.x,cb1[1].x\n"
"uav_raw_load_id(%d) r1331.xy__,r1326.x\n"
"mov r1332.xy__,r1331.xy00\n"
"mov r1304.xy,r1332.xy\n"
"mov r1337.xy,r1304.xy\n"
"mov r1338.xy,l0.xy\n"
"mov r1340.x,l18.x\n"
"mov r1352.x,l3.x\n"
"umul r1342.x,r18.x,r1269.x\n"
"iadd r1347.x,r1342.x,r1340.x\n"
"umul r1354.x,r1352.x,r1347.x\n"
"iadd r1360.x,r1354.x,cb1[1].x\n"
"uav_raw_load_id(%d) r1365.xy__,r1360.x\n"
"mov r1366.xy__,r1365.xy00\n"
"mov r1338.xy,r1366.xy\n"
"mov r1371.xy,r1338.xy\n"
"mov r1372.xy,r1337.xy\n"
"mov r1373.xy,l0.xy\n"
"mov r1375.x,l19.x\n"
"mov r1387.x,l3.x\n"
"umul r1377.x,r18.x,r1269.x\n"
"iadd r1382.x,r1377.x,r1375.x\n"
"umul r1389.x,r1387.x,r1382.x\n"
"iadd r1395.x,r1389.x,cb1[1].x\n"
"uav_raw_load_id(%d) r1400.xy__,r1395.x\n"
"mov r1401.xy__,r1400.xy00\n"
"mov r1373.xy,r1401.xy\n"
"mov r1406.xy,r1373.xy\n"
"mov r1407.xy,r1372.xy\n"
"mov r1408.xy,r1371.xy\n"
"mov r1409.xy,l0.xy\n"
"mov r1411.x,l20.x\n"
"mov r1423.x,l3.x\n"
"umul r1413.x,r18.x,r1269.x\n"
"iadd r1418.x,r1413.x,r1411.x\n"
"umul r1425.x,r1423.x,r1418.x\n"
"iadd r1431.x,r1425.x,cb1[1].x\n"
"uav_raw_load_id(%d) r1436.xy__,r1431.x\n"
"mov r1437.xy__,r1436.xy00\n"
"mov r1409.xy,r1437.xy\n"
"mov r1442.xy,r1409.xy\n"
";multiply V_reff_xr_rp3\n"
"dmad r1443.xy,r1288.xy,r50.xy,r1303.xy\n"
"mov r50.xy,r1443.xy\n"
"dmad r1450.xy,r1288.xy,r62.xy,r1407.xy\n"
"mov r62.xy,r1450.xy\n"
"dmad r1457.xy,r1288.xy,r63.xy,r1408.xy\n"
"mov r63.xy,r1457.xy\n"
"dmad r1464.xy,r1288.xy,r61.xy,r1406.xy\n"
"mov r61.xy,r1464.xy\n"
"dmad r1471.xy,r1288.xy,r66.xy,r1442.xy\n"
"mov r66.xy,r1471.xy\n"
";Output\n"
"mov r1478.x,l3.x\n"
"umul r1480.x,r1478.x,r1269.x\n"
"iadd r1485.x,r1480.x,cb1[0].x\n"
"uav_raw_store_id(%d) mem.xy,r1485.x,r50.xy\n"
"mov r1492.x,l0.x\n"
"mov r1504.x,l3.x\n"
"umul r1494.x,r18.x,r1269.x\n"
"iadd r1499.x,r1494.x,r1492.x\n"
"umul r1506.x,r1504.x,r1499.x\n"
"iadd r1512.x,r1506.x,cb1[1].x\n"
"uav_raw_store_id(%d) mem.xy,r1512.x,r62.xy\n"
"mov r1523.x,l18.x\n"
"mov r1535.x,l3.x\n"
"umul r1525.x,r18.x,r1269.x\n"
"iadd r1530.x,r1525.x,r1523.x\n"
"umul r1537.x,r1535.x,r1530.x\n"
"iadd r1543.x,r1537.x,cb1[1].x\n"
"uav_raw_store_id(%d) mem.xy,r1543.x,r63.xy\n"
"mov r1554.x,l19.x\n"
"mov r1566.x,l3.x\n"
"umul r1556.x,r18.x,r1269.x\n"
"iadd r1561.x,r1556.x,r1554.x\n"
"umul r1568.x,r1566.x,r1561.x\n"
"iadd r1574.x,r1568.x,cb1[1].x\n"
"uav_raw_store_id(%d) mem.xy,r1574.x,r61.xy\n"
"mov r1585.x,l20.x\n"
"mov r1597.x,l3.x\n"
"umul r1587.x,r18.x,r1269.x\n"
"iadd r1592.x,r1587.x,r1585.x\n"
"umul r1599.x,r1597.x,r1592.x\n"
"iadd r1605.x,r1599.x,cb1[1].x\n"
"uav_raw_store_id(%d) mem.xy,r1605.x,r66.xy\n"
"endif\n"
"endmain\n"
"func 2\n"
";div_custom\n"
"d2f r268.x,r267.xy\n"
"mov r271.x,r268.x\n"
"mov r272.x,r271.x\n"
"rcp r273.x___,r272.xxxx\n"
"mov r276.x,r273.x\n"
"f2d r277.xy,r276.x\n"
"mov r280.xy,r277.xy\n"
"mov r281.xy,r267.xy_neg(y)\n"
"dmad r285.xy,r281.xy,r280.xy,l7.xy\n"
"mov r289.xy,r285.xy\n"
"dmad r290.xy,r280.xy,r289.xy,r280.xy\n"
"mov r297.xy,r290.xy\n"
"dmul r298.xy,r266.xy,r297.xy\n"
"mov r303.xy,r298.xy\n"
"mov r304.xy,r267.xy_neg(y)\n"
"dmad r307.xy,r304.xy,r303.xy,r266.xy\n"
"mov r313.xy,r307.xy\n"
"dmad r314.xy,r313.xy,r297.xy,r303.xy\n"
"mov r265.xy,r314.xy\n"
"ret\n"
"endfunc\n"
"func 1\n"
";sqrt_custom\n"
"d2f r189.x,r188.xy\n"
"mov r192.x,r189.x\n"
"rsq r193.x___,r192.xxxx\n"
"mov r196.x,r193.x\n"
"mov r197.x,r196.x_neg(x)\n"
"f2d r200.xy,r197.x\n"
"mov r202.xy,r200.xy\n"
"dmul r203.xy,r202.xy,r202.xy\n"
"mov r208.xy,r203.xy\n"
"dmad r210.xy,r188.xy,r208.xy,l4.xy\n"
"mov r208.xy,r210.xy\n"
"dmul r215.xy,r202.xy,r208.xy\n"
"mov r202.xy,r215.xy\n"
"dmul r220.xy,r188.xy,r202.xy\n"
"mov r208.xy,r220.xy\n"
"dmul r225.xy,r202.xy,r208.xy\n"
"mov r202.xy,r225.xy\n"
"dmad r232.xy,r202.xy,l6.xy,l5.xy\n"
"dmul r235.xy,r208.xy,r232.xy\n"
"mov r187.xy,r235.xy\n"
"ret\n"
"endfunc\n"
"func 3\n"
";exp_custom\n"
"dmul r412.xy,r410.xy,l8.xy\n"
"mov r415.xy,r412.xy\n"
"dfrac r416.xy,r415.xy\n"
"mov r419.xy,r416.xy\n"
"dadd r420.xy,r415.xy,r419.xy_neg(y)\n"
"d2f r425.x, r420.xy\n"
"ftoi r426.x,r425.x\n"
"mov r429.x,r426.x\n"
"dadd r431.xy,r419.xy,l9.xy_neg(y)\n"
"mov r434.xy,r431.xy\n"
"dmul r435.xy,r434.xy,r434.xy\n"
"mov r440.xy,r435.xy\n"
"dmad r443.xy,r440.xy,l11.xy,l10.xy\n"
"mov r446.xy,r443.xy\n"
"dmad r448.xy,r440.xy,r446.xy,l12.xy\n"
"dmul r453.xy,r434.xy,r448.xy\n"
"mov r458.xy,r453.xy\n"
"dmad r461.xy,r440.xy,l14.xy,l13.xy\n"
"mov r464.xy,r461.xy\n"
"dmad r466.xy,r440.xy,r464.xy,l15.xy\n"
"mov r464.xy,r466.xy\n"
"dmad r472.xy,r440.xy,r464.xy,l7.xy\n"
"mov r464.xy,r472.xy\n"
"dmad r478.xy,r458.xy,l16.xy,r464.xy\n"
"mov r483.xy,r478.xy\n"
"mov r484.xy,r483.xy\n"
"mov r485.xy,r458.xy\n"
"mov r266,r485.xy\n"
"mov r267,r484.xy\n"
"call 2\n"
"mov r486.xy,r265\n"
"mov r485.xy,r266\n"
"mov r484.xy,r267\n"
"dmad r542.xy,r486.xy,l17.xy,l17.xy\n"
"mov r486.xy,r542.xy\n"
"dldexp r545.xy,r486.xy,r429.x\n"
"mov r409.xy,r545.xy\n"
"ret\n"
"endfunc\n"
"end\n";

