
Linux:

1. Install dependencies

   Ubuntu / Debian:

    (Note: apt-get build-dep boinc-app-milkyway for Debian. I'm not sure it's actually helpful anyway)

    # Make sure the necessary build tools are installed
    $ apt-get build-essential
    $ apt-get install libpopt-dev cmake autoconf automake libtool git-core subversion diffutils patch
    $ apt-get build-dep boinc-app-milkyway boinc-client boinc-manager boinc-dev

  Other Distributions: Install equivalent packages.

  Arch: Most/all? dependencies can be installed by installing the
        boinc package.

     $ pacman -S boinc

2. Checkout BOINC

 $ svn co http://boinc.berkeley.edu/svn/trunk/boinc

3. Build BOINC

  I had a little bit trouble getting this to build, but it's easiest
  to only compile the libraries which are all we need.

  3.1 Run their silly wrapper script around autools which shouldn't
  exist:

    cd to the boinc checkout

    $ ./_autosetup

    If this fails complaining about a missing libtoolize, edit
    _autosetup and remove/comment out the block checking for
    libtoolize.

  3.2 Run standard autoconf stuff, enabling only the libraries. The
      enabling debugging is optional, but for this purpose recommended.

    $ ./configure --disable-client --disable-server --enable-optimize
    $ make
    $ sudo make install


4. Compile the milkyway client
 4.1 Check it out

   $ git clone git://github.com/Milkyway-at-home/milkywayathome_client.git

   Or if you have your SSH and github tokens etc. set up,

   $ git clone git@github.com:Milkyway-at-home/milkywayathome_client.git

  4.2 Use cmake to generate makefiles

      Navigate to the git checkout, and run

      $ cmake .

  4.3 Compile

     $ make

  Note if you need to change the compiler, and some other settings in
  cmake, you must delete CMakeCache.txt.

  4.4 The client should now be build with an executable in bin/ and a
      library in lib/

Note: If you do try to build the client, and you have a recent
GNOME/Gtk/Glib/GIO install, you need the latest development version of
wxWidgets installed.

--------------------------------------------------------------------------------

OS X:

1. Install Xcode and the Apple developer tools. This may involve joining some sort of cult.
2. Install macports
3. Install dependencies by running:

  $ port install cmake popt git-core autoconf automake

4. Continue from step 3 of the Linux instructions.

--------------------------------------------------------------------------------

Windows:

Be prepared for pain.

1. Visual Studio 2010 works for the separation, but not the N-body.

2. Your best bet for all dependencies is to somehow get binaries and
   headers, and install them to the prefix of your checkout. i.e. put
   libraries in milkywayathome_client/lib and headers in milkywayathome_client/include.

2.

  MinGW:

    Install with the latest mingw-get-inst installer
      http://sourceforge.net/projects/mingw/files/Automated%20MinGW%20Installer/mingw-get-inst/

    Start the MinGW MSYS shell, and run $ mingw-get update
    Install stuff with mingw-get install <packagename>



3. Install the BOINC libraries

  3.1 Get svn working somehow in some sort of shell. Maybe use
       TortoiseSVN or whatever if all else fails.
       $ svn co http://boinc.berkeley.edu/svn/trunk/boinc

  3.2 Patch BOINC

      To get the BOINC libraries to compile, you right now need a
      patch that I wrote. Get it somehow, and apply it

      $ patch -p1 < /path/to/the.patch
      (if this fails, try replacing -p1 with -p0. I never get it right)


  3.3 Compile the BOINC libraries

      Go to the lib subdirectory of the your boinc source checkout.

      $ cd boinc/lib

      Compile them.

      $ make -f Makefile.mingw

      Assuming there were no errors, install them

      $ make -f Makefile.mingw install

      Now you should have the BOINC libraries installed.

4. Compile the milkyway client

  4.1 If you installed git from

    Checking out from the read-only URL:

    $ git clone git://github.com/arsenm/milkywayathome_client.git

    Or if you have your SSH and github tokens etc. set up,

    $ git clone git@github.com:arsenm/milkywayathome_client.git

  4.2 Use cmake to generate makefiles

      Navigate to the git checkout, and run

      $ cmake . -G "MSYS Makefiles"

  4.3 Compile

     $ make

  Note if you need to change the compiler, and some other settings in
  cmake, you must delete CMakeCache.txt.

  4.4 The client should now be build with an exe in bin/ and a
      library in lib/


--------------------------------------------------------------------------------


Nbody:

You must install Lua.

Building Lua as a static library prevents dynamic module loading on Windows,
which we don't need and we almost don't want it to work anyway. It's
also a good idea to build your own Lua on Windows (32 bit) just to be
sure all math is SSE2.


Install "Lua for Windows" http://code.google.com/p/luaforwindows/
This is primarily to get a standalone Lua interpreter installed which
some of the tests use. Additionally it can be used for a 32-bit build,
but that would also require shipping the DLL.



Build Crlibm from: git://github.com/Milkyway-at-home/crlibm.git



OpenSSL is used by the N-body, but only for tests.

MSYS/Mingw32:

  $ cmake . -G "MSYS Makefiles"
  $ make


MinGW64:
  Install OpenSSL for Win64:
    - Install MSVC++ redistributables:
       http://www.microsoft.com/downloads/details.aspx?familyid=bd2a6171-e2d6-4230-b809-9a8d7548c1b6
    - Install OpenSSL itself:
      http://www.slproweb.com/download/Win64OpenSSL-1_0_0d.exe

    - Copy these: DLLs from their default install location
        C:\OpenSSL-Win64\libeay32.dll
        C:\OpenSSL-Win64\ssleay32.dll
      to milkywayathome_client/lib directory to avoid finding the 32 bit libraries.


  $ cmake . -G "MinGW Makefiles"
  $ mingw32-make


